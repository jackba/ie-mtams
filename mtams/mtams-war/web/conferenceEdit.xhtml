<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

    <body>

        <ui:composition template="./template/template.xhtml">

            <ui:define name="content">
                <h:form>
                    <p:growl id="growl" sticky="true" showDetail="true"/>

                    <p:panel header="Conference Attendance Request Form">

                        <p:fieldset legend="Conference Details">
                            <h:panelGrid columns="2" columnClasses="label, value">
                                <h:outputLabel value="Conference Name:"  />  
                                <p:inplace editor="true" emptyLabel="Click to Edit">  
                                    <p:inputText value="#{conference.confName}"/> 
                                </p:inplace>

                                <h:outputLabel value="Web Adress:"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit"> 
                                    <p:inputText value="#{conference.website}"/>
                                </p:inplace>

                                <h:outputLabel value="Country:"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit"> 
                                    <p:inputText value="#{conference.country}"/>
                                </p:inplace>

                                <h:outputLabel value="City/State:"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit"> 
                                    <p:inputText value="#{conference.city}"/>
                                </p:inplace>

                                <h:outputLabel value="Presenting a Paper?"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit"> 
                                    <p:selectOneRadio value="#{conference.isPresenting}">
                                        <f:selectItem itemLabel="Yes" itemValue="1"/>
                                        <f:selectItem itemLabel="No" itemValue="2" />
                                        <p:ajax event="change" update="isPresentingGrid"/>
                                    </p:selectOneRadio>

                                    <h:panelGrid columns="2" id="isPresentingGrid" columnClasses="label, value">
                                        <p:outputLabel rendered="#{conference.isPresenting eq '1'}" for="paperTitle" value="Title of Paper:" title="Title of paper:"/>
                                        <p:inputText rendered="#{conference.isPresenting eq '1'}" id="paperTitle" value="#{conference.paperTitle}" required="true" title="Title of paper which you are presenting on"/>
                                        <p:outputLabel rendered="#{conference.isPresenting eq '1'}" for="author" value="Specify All Authors and Affiliations:"/>
                                        <h:inputTextarea rendered="#{conference.isPresenting eq '1'}" id="author" value="#{conference.author}" required="true"/>

                                        <p:outputLabel rendered="#{conference.isPresenting eq '2'}" for="specialReason" value="Special Reason For Attendance:"/>
                                        <p:inputText rendered="#{conference.isPresenting eq '2'}" id="specialReason" value="#{conference.specialReason}" required="true"/>
                                    </h:panelGrid>
                                </p:inplace>

                                <h:outputLabel value="Date of Internal MSA Presentation:"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit"> 
                                    <p:calendar navigator="true" value="#{conference.presentationDate}"/>
                                </p:inplace>
                            </h:panelGrid>
                        </p:fieldset>

                        <p:fieldset legend="Conference Duration">
                            <h:panelGrid columns="2" columnClasses="label, value">
                                <h:outputLabel value="Date From:"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit"> 
                                    <p:calendar navigator="true" value="#{conference.fromDate}" binding="#{depart}" mindate="#{userBean.currentDate}"/>
                                </p:inplace>

                                <h:outputLabel value="Date To:"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit"> 
                                    <p:calendar navigator="true" value="#{conference.toDate}" mindate="#{userBean.currentDate}">
                                        
                                    </p:calendar>
                                </p:inplace>

                                <h:outputLabel value="Do You Need Coverage For Teaching Commitments?"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit"> 
                                    <p:selectOneRadio id="coverOptions" value="#{conference.coverOptions}">
                                        <f:selectItem itemLabel="Yes" itemValue="yes" />
                                        <f:selectItem itemLabel="No" itemValue="no" />
                                        <f:selectItem itemLabel="N/A" itemValue="na" />
                                        <p:ajax event="change" update="coverOptionsGrid" />
                                    </p:selectOneRadio>

                                    <h:panelGrid columns="2" id="coverOptionsGrid" columnClasses="label, value">
                                        <p:outputLabel rendered="#{conference.coverOptions eq 'yes'}" for="arrangements" value="Proposed Arrangements To Cover Teaching Commitments:"/>
                                        <h:inputTextarea rendered="#{conference.coverOptions eq  'yes'}" id="arrangements" value="#{conference.coverDetails}" required="true"/>
                                    </h:panelGrid>
                                </p:inplace>
                            </h:panelGrid>

                        </p:fieldset>

                        <p:fieldset legend="Funding">
                            <h:panelGrid columns="2" columnClasses="label, value">
                                <p:outputLabel for="fundingOptions" value="Sources of Funding:"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit">
                                    <p:selectOneRadio id="fundingOptions" value="#{conference.fundingOptions}" required="true" requiredMessage="Required Field">
                                        <f:selectItem itemLabel="School/Admin Unit" itemValue="School/Admin Unit" />
                                        <f:selectItem itemLabel="Research Grant" itemValue="Research Grant" />
                                        <f:selectItem itemLabel="Other (Specify Below)" itemValue="Other" />
                                        <p:ajax event="change" update="fundingOptionsGrid"/>
                                    </p:selectOneRadio>

                                    <h:panelGrid columns="2" id="fundingOptionsGrid" columnClasses="label, value">
                                        <p:outputLabel rendered="#{conference.fundingOptions eq 'Other'}" for="otherSources" value="Other Sources of Funding:"/>
                                        <p:inputText rendered="#{conference.fundingOptions eq 'Other'}" id="otherSources" value="#{conference.otherFunding}" />
                                    </h:panelGrid>
                                </p:inplace>

                                <p:outputLabel for="costCentre" value="Cost Centre:"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit">
                                    <p:inputText id="costCentre" value="#{conference.quotes.costcenter}" readonly="true"/>
                                </p:inplace>

                                <p:outputLabel for="fund" value="Fund Name:"/>
                                <p:inplace editor="true" emptyLabel="Click to Edit">
                                    <p:inputText id="fund" value="#{conference.fundName}"/>
                                </p:inplace>

                            </h:panelGrid>
                        </p:fieldset>
                        <br />
                        <p:commandButton value="Submit" ajax="false" action="#{conference.update()}" />
                    </p:panel>
                </h:form>
            </ui:define>

        </ui:composition>

    </body>
</html>
